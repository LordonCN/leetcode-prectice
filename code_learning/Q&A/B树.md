
# 一句话形容B B+ 红黑树
B 就是一种`不同高度含不同关键字`的一种`多路平衡查找树`,且查找、删除、添加时间复杂度均为`logm(n)`(其中m为阶数,n为内部结点个数)
B+ 就是一种不同高度含`相同`关键字的一种`多路平衡查找树`,特点是终端所有关键字连接在一起，且查找、删除、添加时间复杂度均为`logm(n)`(其中m为阶数,n为内部结点个数)
红黑树 就是一种含有`颜色属性`的一种`二叉平衡查找树(AVL)`,且查找、删除、添加时间复杂度均为`logn`(其中n为内部结点个数)

# B树
注意:之前有看到有很多文章把B树和B-tree理解成了两种不同类别的树，其实这两个是同一种树;

`高度`最大为logm(n)，可在时间复杂度为`logm(n)`的情况下进行`插入删除`等操作.

## 定义
B树和平衡二叉树稍有不同的是B树属于多叉树又名平衡多路查找树（查找路径不只两个）

## 规则
- 排序方式：所有节点关键字是按`递增次序`排列，并遵循`左小右大`原则；
 
- 每个节点最多有m棵子树

- 根节点最少有两棵树

- 内部节点（除去根节点跟叶子节点）至少有cell(m/2)棵子树。
 
- 关键字数：根节点至少含有一个关键字和两棵子树，
  枝节点的关键字数量为`ceil(m/2)-1,m-1`个,子树为`ceil(m/2),m`（注：ceil()是个朝正无穷方向取整的函数 如ceil(1.1)结果为2);
 
- 所有叶子节点均在同一层、叶子节点除了包含了关键字和关键字记录的指针外也有指向其子节点的指针只不过其指针地址都为null;

## 解释
三阶B树其内部节点的子树个数为`2,3`,节点内的关键字有`1,2`,所有叶子都在最后一层。

## 特点
具有平衡有序多路的特点。`平衡`：左右两侧高度差为1；`有序`：具有查找树的特性，左小右大；`多路`：节点分之多，最多m个。

## 应用
数据库索引技术里大量使用者B树和B+树的数据结构,比如`3阶`B树对`10亿数据`进行查找只需要`21次不到`(log3(10^10))


# B+树

## 定义
B+树是B树的一个`升级版`，相对于B树来说B+树更充分的利用了节点的空间，让查询速度更加稳定.
其速度`完全接近于二分法查找`。

- 每个节点最多有m棵子树 同B

- 根节点最少有两棵树 同B

- 内部节点（除去根节点跟叶子节点）至少有cell(m/2)棵子树 同B

- 关键字数：根节点含有两棵子树， **关键字数量不同**
  枝节点的关键字数量为`ceil(m/2),m`个,子树为`ceil(m/2),m`

- 倒数第二层包含了全部的关键字，节点内部有序切节点间按升序链接,B+树除了最下面一行相互连接且包含了所有的数值，其余非终端节点只是包含的

## 两者区别
- B+树的`非叶子节点`不保存关键字记录的指针，`只进行数据索引`，这样使得B+树每个**非叶子节点所能保存的关键字大大增加**；
 
- B+树叶`子节点保存了父节点的所有关键字`记录的指针，所有`数据地址必须要到叶子节点才能获取到`。所以**最坏情况下**每次数据查询的次数都一样(如果一上来就碰到了呢)；
(这里其实是倒数第二层，并不是叶子节点，这一层包含了所有的关键字), B+树叶子节点的关键字从小到大有序排列，左边结尾数据都会保存右边节点开始数据的指针。
 
- `非叶子节点的子树==关键字数`

# 特点

1、B+树的层级更少：相较于B树B+每个非叶子节点存储的关键字数更多，树的层级更少所以查询数据更快；

2、B+树查询速度更稳定：B+所有关键字数据地址都存在叶子节点上，所以每次查找的次数都相同所以查询速度要比B树更稳定;

3、B+树天然具备排序功能：B+树所有的叶子节点数据构成了一个有序链表，在查询大小区间的数据时候更方便，数据紧密性很高，缓存的命中率也会比B树高。

4、B+树全节点遍历更快：B+树遍历整棵树只需要遍历所有的叶子节点即可，，而不需要像B树一样需要对每一层进行遍历，这有利于数据库做全表扫描。
## 应用
更加适用于文件管理系统

## 与红黑树的区别
B树相对于B+树的`优点`是，如果经常访问的数据离根节点很近，而B树的非叶子节点本身存有关键字其数据的地址，所以这种数据检索的时候会要比B+树快。

B树与红黑树最大的`不同`在于，B树的结点可以有许多子女，从几个到几千个。那为什么又说B树与红黑树很相似呢?因为与红黑树一样，一棵含n个结点的B树的高度也为O（lgn），但可能比一棵红黑树的高度小许多，应为它的分支因子比较大。所以，B树可以在O（logn）时间内，实现各种如插入（insert），删除（delete）等动态集合操作。